(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search_list/main"],{"3a2a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},5343:function(t,e,n){"use strict";var i=n("e96d"),r=n.n(i);r.a},5623:function(t,e,n){"use strict";n.r(e);var i=n("d049"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a},"74f2":function(t,e,n){"use strict";(function(t){n("ac6c"),n("921b");i(n("66fd"));var e=i(n("a106"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},a106:function(t,e,n){"use strict";n.r(e);var i=n("3a2a"),r=n("5623");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("5343");var a=n("2877"),s=Object(a["a"])(r["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},d049:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return u(t)||s(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(t){c(o,i,r,a,s,"next",t)}function s(t){c(o,i,r,a,s,"throw",t)}a(void 0)})}}var f=function(){return n.e("components/SearchBar").then(n.bind(null,"bae1"))},l=6,h={components:{SearchBar:f},data:function(){return{tabList:["综合","销量","价格"],activeIndex:0,keyword:"",goodsList:[],isLastPage:!1,isFixed:!1}},onLoad:function(t){this.keyword=t.keyword,this.reload()},onPullDownRefresh:function(){this.isFixed=!1,this.reload()},onPageScroll:function(){this.isFixed=!0},onReachBottom:function(){this.isLastPage||this.pageNum++,this.queryGoodsList()},methods:{changeIndex:function(t){this.activeIndex=t},queryHandler:function(t){this.keyword=t,this.reload()},toItem:function(t){wx.navigateTo({url:"/pages/item/main?goodsId="+t})},reload:function(){this.pageNum=1,this.isLastPage=!1,this.isRequest=!1,this.goodsList=[],this.queryGoodsList()},queryGoodsList:function(){var t=d(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isRequest&&!this.isLastPage){t.next=2;break}return t.abrupt("return");case 2:return this.isRequest=!0,t.next=5,this.$request({url:"/api/public/v1/goods/search",data:{query:this.keyword,pagenum:this.pageNum,pagesize:l}});case 5:e=t.sent,this.isRequest=!1,this.goodsList=[].concat(o(this.goodsList),o(e.goods)),this.goodsList.length===e.total&&(this.isLastPage=!0);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}};e.default=h},e96d:function(t,e,n){}},[["74f2","common/runtime","common/vendor"]]]);