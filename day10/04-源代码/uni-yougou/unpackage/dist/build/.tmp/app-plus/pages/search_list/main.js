(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search_list/main"],{"415d":function(t,e,n){"use strict";(function(t){n("8c5f"),n("921b");i(n("66fd"));var e=i(n("7731"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},5331:function(t,e,n){"use strict";n.r(e);var i=n("7493"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a},7493:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return a(t)||u(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t,e,n,i,r,o,s){try{var u=t[o](s),a=u.value}catch(c){return void n(c)}u.done?e(a):Promise.resolve(a).then(i,r)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function s(t){c(o,i,r,s,u,"next",t)}function u(t){c(o,i,r,s,u,"throw",t)}s(void 0)})}}var f=function(){return n.e("components/SearchBox").then(n.bind(null,"f10d"))},l=6,h={components:{SearchBox:f},data:function(){return{menuList:["综合","销量","价格"],activeIndex:0,query:"",goodsList:[],isLastPage:!1,isFixed:!1}},onLoad:function(t){this.query=t.query,this.reload()},onPullDownRefresh:function(){this.isFixed=!1,this.reload()},onPageScroll:function(){this.isFixed=!0},onReachBottom:function(){this.isLastPage||this.pageNum++,this.queryGoods()},methods:{changeIndex:function(t){this.activeIndex=t},doSearch:function(t){this.query=t,this.reload()},toItem:function(t){wx.navigateTo({url:"/pages/item/main?goodsId="+t})},reload:function(){this.pageNum=1,this.goodsList=[],this.isLastPage=!1,this.isRequest=!1,this.queryGoods()},queryGoods:function(){var e=d(i.default.mark(function e(){var n;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isRequest&&!this.isLastPage){e.next=2;break}return e.abrupt("return");case 2:return this.isRequest=!0,e.next=5,this.$request({url:"/api/public/v1/goods/search",data:{query:this.query,pagenum:this.pageNum,pagesize:l}});case 5:n=e.sent,this.isRequest=!1,this.goodsList=[].concat(o(this.goodsList),o(n.goods)),console.log(t(n," at pages\\search_list\\main.vue:128")),this.goodsList.length===n.total&&(this.isLastPage=!0);case 10:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()}};e.default=h}).call(this,n("0de9")["default"])},7731:function(t,e,n){"use strict";n.r(e);var i=n("790d"),r=n("5331");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("dd0f");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},"790d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},cd66:function(t,e,n){},dd0f:function(t,e,n){"use strict";var i=n("cd66"),r=n.n(i);r.a}},[["415d","common/runtime","common/vendor"]]]);